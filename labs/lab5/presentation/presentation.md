---
lang: ru-RU
title: Лабораторная работа № 5
author:
  - Соболевский Денис Андреевич
date: 2023, Москва
aspectratio: 169
babel-lang: russian
babel-otherlangs: english
toc: false
toc-title: Содержание
slide_level: 2
theme: Madrid
mainfont: Times New Roman
sansfont: Arial
---

## Цели

Изучение механизмов изменения идентификаторов, применения
SetUID- и Sticky-битов. Получение практических навыков работы в консоли с дополнительными атрибутами. Рассмотрение работы механизма
смены идентификатора процессов пользователей, а также влияние бита
Sticky на запись и удаление файлов.

## Задачи

1. Исследовать влияние дополнительных атрибутов.

2. Исследовать Sticky-бит.

## Ход работы

От имени пользователя guest создадим программу simpleid.c, скомпилируем ее и убедимся, что файл программы создан.

![Создание программы simleid.c](image.png).

## Ход работы

Выполним команды ./simpleid и id и убедимся, что полученные данные совпадают.

![Выполнение команд ./simpleid и id](image-1.png)

## Ход работы

Усложним программу, добавив вывод действительных индентификаторов.

![Создание и программы simpleid2](image-2.png)

## Ход работы

От имени суперпользователя выполним команды.

![Установка новых атрибутов и смена владельца файла simpleid2](image-3.png)

## Ход работы

Выполним команды ./simpleid2 и id и убедимся, что полученные данные совпадают.

![Использование команд ./simpleid2 и id](image-4.png)

## Ход работы

Выполним проверку правильности установки новых атрибутов.

![Выполнение команды ls -l simpleid2](image-5.png)

## Ход работы

Создадим и скомпилируем программу readfile.c.

![Создание программы readfile.c](image-6.png)

## Ход работы

Сменим владельца у файла readfile.c и изменим права так, чтобы только суперпользователь (root) мог прочитать его, a guest не мог.

![Изменение владельца и прав файла readfile.c](image-7.png)

## Ход работы

Проверим, что пользователь guest не может прочитать файл readfile.c.

![Проверка, что пользователь guest не может прочитать файл readfile.c](image-8.png)

## Ход работы

Сменим владельца и установим SetUID-бит.

![Смена прав файла](image-9.png)

## Ход работы

Проверим, может ли программа readfile прочитать файл readfile.c.

![Чтение файла readfile.c](image-10.png)

## Ход работы

Проверим, может ли программа readfile прочитать файл /etc/shadow.

![Чтение файла /etc/shadow](image-11.png)

## Ход работы

Выясним, установлен ли атрибут Sticky на директории /tmp.

![Выполнение команды ls -l / | grep tmp](image-12.png)

## Ход работы

От имени пользователя guest создадим файл file01.txt в директории /tmp.

![Создание файла file01.txt](image-13.png)

## Ход работы

От пользователя guest2 попробуем прочитать файл file01.txt.

![Чтение файла file01.txt](image-14.png)

## Ход работы

От пользователя guest2 попробуем дозаписать файл file01.txt.

![Дозапись в файл /tmp/file01.txt](image-15.png)

## Ход работы

От пользователя guest2 попробуем записать в файл file01.txt слово test3, стерев при этом всю имеющуюся в файле информацию.

![Перезапись в файле /tmp/file01.txt](image-16.png)

## Ход работы

От пользователя guest2 попробуем удалить файл file01.txt.

![Удаление файла /tmp/file01.txt](image-17.png)

## Ход работы

От имени суперпользователя снимем атрибут t с директории /tmp..

![Удаление атрибута t](image-18.png)

## Ход работы

Повторим предыдущие шаги. Теперь файл удален успешно.

![Повторение предыдущих шагов](image-19.png)

## Ход работы

Повысим свои права до суперпользователя и вернем атрибут t на директорию /tmp.

![Повышение прав и возвращение атрибута](image-20.png)

## Результаты

В рамках данной лабораторной работы были изучены механизмы изменения идентификаторов, применения SetUID- и Sticky-битов. Получены практические навыков работы в консоли с дополнительными атрибутами. Рассмотрены принципы работы механизма
смены идентификатора процессов пользователей, а также влияние бита
Sticky на запись и удаление файлов.
